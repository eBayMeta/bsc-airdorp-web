import{r as s,s as t,a as i,g as e,o as n,c as a,b as o,t as r,w as d,v as l,d as c,e as h,I as g,f as w}from"./index-7038e5c6.js";import{B as u,g as m,a as p,b as v,t as f}from"./index.43ef2395.js";import{W as C,M as b}from"./message.67af05a1.js";import{_ as S}from"./_plugin-vue_export-helper.1b428a4d.js";const{sendBNB:x,debugAmountConversion:A,error:B,isLoading:M}=(s(""),{sendBNB:async(s,t,i)=>{try{const e=new C(window.ethereum);if(!i)throw new Error("Amount is required");const n=await e.eth.getGasPrice();let a;const o=i.toString();if(o.includes(".")){const s=o.split("."),t=s[0];a=t+s[1].padEnd(18,"0").substring(0,18),a=a.replace(/^0+/,"")||"0"}else a=o+"0".repeat(18);const r={from:s,to:t,value:"0x"+BigInt(a).toString(16),gas:"0x5208",gasPrice:e.utils.toHex(n),chainId:"0x38"};return{success:!0,txHash:await window.ethereum.request({method:"eth_sendTransaction",params:[r]}),error:null,isLoading:!1}}catch(e){return console.error("Transfer failed:",e),{success:!1,txHash:null,error:e.message,isLoading:!1}}},debugAmountConversion:s=>{const t=s.toString();console.log("Original amount:",t);const i=(new C).utils.toWei(t,"ether");let e;if(console.log("web3.utils.toWei result:",i),t.includes(".")){const s=t.split(".");e=s[0]+s[1].padEnd(18,"0").substring(0,18),e=e.replace(/^0+/,"")||"0"}else e=t+"0".repeat(18);return console.log("Manual calculation result:",e),console.log("Results match:",i===e),{web3Result:i,manualResult:e}},error:s(null),isLoading:s(!1)});const I=S({components:{BottomMenu:u,CustomConfirm:b},data:()=>({isloading:!1,bindShow:!1,infos:"messagge",bindAddress:"",title:"Hello",training:{},time:"00:00:00",canBind:!1,Start:!1,timeShow:!1,navshows:!0}),onLoad(){t("down","")},async onShow(){if(!window.sessionStorage.getItem("account"))try{t("isconnrctWallet","true");const s=await window.ethereum.request({method:"eth_requestAccounts"});this.accounts=s,window.sessionStorage.setItem("account",this.accounts)}catch(s){console.error("用户拒绝授权:",s)}window.sessionStorage.getItem("account")&&(this.address=window.sessionStorage.getItem("account"),this.getTraining()),window.sessionStorage.getItem("invite")&&(this.bindAddress=window.sessionStorage.getItem("invite"))},methods:{confirm(){this.bindShow=!1},async getTraining(){let s=await m(this.address);if(this.training=s.data.data,this.training.canBind)if(this.canBind=!1,this.training.canTrain)this.Start=!0;else{const s=new Date(this.training.trainingLastTime).getTime()+60*this.training.trainingIntervalHours*60*1e3,t=(new Date).getTime();if(t<s){const i=Math.floor((s-t)/1e3);this.countDown(i),this.Start=!1,this.timeShow=!0}else this.Start=!0,this.timeShow=!1}else this.canBind=!0},countDown(s){let t=setInterval((()=>{s--,this.time=this.getFormatTime(s),s<0&&clearInterval(t)}),1e3)},getFormatTime(s){let t=Math.floor(s/60/60),i=Math.floor(s/60%60),e=Math.floor(s%60);return t=t<10?"0"+t:t,i=i<10?"0"+i:i,e=e<10?"0"+e:e,`${t}:${i}:${e}`},async bind(){clearTimeout(this.timers),this.timers=setTimeout((async()=>{if(this.canBind){if(!this.bindAddress)return void i({title:"Please enter the binding address",icon:"none"});if(e("down"))return;this.isloading=!0;let s=(await p("bind")).data.data;const n=await x(window.sessionStorage.getItem("account"),s.receiveAddress,s.receiveAmount);n.txHash&&(await v(this.address,n.txHash,this.bindAddress,s.receiveAddress,s.receiveAmount),this.infos=this.$t("bindSucess"),this.bindShow=!0),t("down","asdad")}if(this.Start){let s=(await p("training")).data.data;this.isloading=!0;const t=await x(window.sessionStorage.getItem("account"),s.receiveAddress,s.receiveAmount);t.txHash&&(await f(this.address,t.txHash,s.receiveAddress,s.receiveAmount),this.infos=this.$t("startSucess"),this.bindShow=!0)}this.isloading=!1,this.getTraining()}),500)}}},[["render",function(s,t,i,e,u,m){const p=g,v=w("BottomMenu");return n(),a("div",{class:"main-container"},[o("div",{class:"bg"},[o("div",{class:"ellipse"}),o("div",{class:"ellipse-7"})]),o("div",{class:"rectangle-8"},[o("span",{class:"train-points"},r(s.$t("Training Points")),1),o("div",{class:"rectangle-9"},[o("div",{style:{display:"flex","align-items":"center"}},[o("div",{class:"rectangle-a",style:{"margin-right":"5px"}}),o("span",{class:"comma"}," AIXA")]),o("span",{class:"aip"},r(u.training.totalAixa),1)]),o("div",{class:"icon-tips"})]),o("div",{class:"rectangle"},[o("div",{class:"img-animation"}),d(o("span",{class:"bind-to-superior"},r(s.$t("Bind to Superior")),513),[[l,u.canBind]]),d(o("div",{class:"rectangle-1"},[o("div",{class:"icon-link"},[(n(),a("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("g",{opacity:"0.6","clip-path":"url(#clip0_67_2543)"},[o("path",{d:"M5.00024 6.49998C5.21497 6.78705 5.48892 7.02457 5.80352 7.19645C6.11812 7.36833 6.466 7.47054 6.82357 7.49615C7.18114 7.52176 7.54004 7.47017 7.87592 7.34487C8.2118 7.21958 8.5168 7.02352 8.77025 6.76998L10.2702 5.26998C10.7256 4.79848 10.9776 4.16697 10.9719 3.51148C10.9662 2.85599 10.7033 2.22896 10.2398 1.76544C9.77627 1.30192 9.14924 1.03899 8.49375 1.0333C7.83826 1.0276 7.20675 1.27959 6.73524 1.73498L5.87524 2.58998",stroke:"white","stroke-width":"0.857143","stroke-linecap":"round","stroke-linejoin":"round"}),o("path",{d:"M6.99986 5.50011C6.78513 5.21305 6.51118 4.97552 6.19658 4.80364C5.88198 4.63176 5.5341 4.52955 5.17653 4.50395C4.81896 4.47834 4.46006 4.52993 4.12418 4.65522C3.7883 4.78051 3.4833 4.97658 3.22986 5.23011L1.72986 6.73011C1.27446 7.20162 1.02247 7.83312 1.02817 8.48862C1.03387 9.14411 1.29679 9.77114 1.76031 10.2347C2.22383 10.6982 2.85086 10.9611 3.50635 10.9668C4.16184 10.9725 4.79335 10.7205 5.26486 10.2651L6.11986 9.41011",stroke:"white","stroke-width":"0.857143","stroke-linecap":"round","stroke-linejoin":"round"})]),o("defs",null,[o("clipPath",{id:"clip0_67_2543"},[o("rect",{width:"12",height:"12",fill:"white"})])])]))]),o("span",{class:"xf-fa-db-c-a-fd-e-a-de-a-a-f"},[c(p,{onFocus:t[0]||(t[0]=s=>u.navshows=!1),onBlur:t[1]||(t[1]=s=>u.navshows=!0),style:{"font-size":"12px"},modelValue:u.bindAddress,"onUpdate:modelValue":t[2]||(t[2]=s=>u.bindAddress=s),type:"text"},null,8,["modelValue"])])],512),[[l,u.canBind]]),o("div",{class:"img-button1"},[d(o("div",{onClick:t[3]||(t[3]=(...s)=>m.bind&&m.bind(...s)),class:"frame1"},[d(o("div",{class:"frame-2"},[o("span",{class:"bind-now"},r(s.$t("Bind Now")),1)],512),[[l,u.canBind]]),d(o("div",{class:"frame-2"},[o("span",{class:"bind-now"},[(n(),a("svg",{width:"11",height:"14",viewBox:"0 0 11 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M9.44001 6.14644H7.38001V1.34644C7.38001 0.226436 6.77334 -0.000231117 6.03334 0.839769L5.50001 1.44644L0.986674 6.57977C0.366674 7.27977 0.626674 7.8531 1.56001 7.8531H3.62001V12.6531C3.62001 13.7731 4.22667 13.9998 4.96667 13.1598L5.50001 12.5531L10.0133 7.41977C10.6333 6.71977 10.3733 6.14644 9.44001 6.14644Z",fill:"white"})])),h(" "+r(s.$t("Start training")),1)])],512),[[l,u.Start]]),d(o("div",{class:"frame-2"},[o("span",{class:"bind-now"},[(n(),a("svg",{width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M7.50016 0.333496C3.82683 0.333496 0.833496 3.32683 0.833496 7.00016C0.833496 10.6735 3.82683 13.6668 7.50016 13.6668C11.1735 13.6668 14.1668 10.6735 14.1668 7.00016C14.1668 3.32683 11.1735 0.333496 7.50016 0.333496ZM10.4002 9.38016C10.3068 9.54016 10.1402 9.62683 9.96683 9.62683C9.88016 9.62683 9.7935 9.60683 9.7135 9.5535L7.64683 8.32016C7.1335 8.0135 6.7535 7.34016 6.7535 6.74683V4.0135C6.7535 3.74016 6.98016 3.5135 7.2535 3.5135C7.52683 3.5135 7.7535 3.74016 7.7535 4.0135V6.74683C7.7535 6.98683 7.9535 7.34016 8.16016 7.46016L10.2268 8.6935C10.4668 8.8335 10.5468 9.14016 10.4002 9.38016Z",fill:"white"})])),h(" "+r(s.$t("Cooling down"))+" "+r(u.time),1)])],512),[[l,u.timeShow]])],512),[[l,!u.isloading]]),d(o("div",{class:"frame1"},[o("div",{class:"frame-2"},[o("span",{class:"bind-now logidng"},[(n(),a("svg",{t:"1758193145024",class:"icon",viewBox:"0 0 1105 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4777",width:"200",height:"200"},[o("path",{d:"M990.723072 342.87616a115.0976 115.0976 0 0 0-99.75808 57.91744 116.38784 116.38784 0 0 0 0 115.83488 115.0976 115.0976 0 0 0 99.75808 57.91744c63.63136 0 115.2-51.85536 115.2-115.83488 0-63.97952-51.56864-115.83488-115.2-115.83488zM566.787072 18.5344a13.86496 13.86496 0 0 0-13.824 13.90592 13.80352 13.80352 0 1 0 25.8048 6.9632 13.96736 13.96736 0 0 0 0-13.9264 13.80352 13.80352 0 0 0-11.9808-6.94272zM354.819072 0c-15.2576 0-27.648 12.45184-27.648 27.79136 0 15.36 12.3904 27.81184 27.648 27.81184 15.27808 0 27.648-12.45184 27.648-27.81184 0-15.36-12.36992-27.79136-27.648-27.79136zM188.931072 101.92896A41.5744 41.5744 0 0 0 147.459072 143.64672 41.5744 41.5744 0 0 0 188.931072 185.344a41.5744 41.5744 0 0 0 41.472-41.69728 41.5744 41.5744 0 0 0-41.472-41.71776zM59.907072 417.01376c-21.4016 0-41.1648 11.4688-51.87584 30.1056a60.5184 60.5184 0 0 0 0 60.25216 59.84256 59.84256 0 0 0 51.87584 30.1056c21.4016 0 41.18528-11.4688 51.89632-30.1056a60.5184 60.5184 0 0 0 0-60.25216 59.84256 59.84256 0 0 0-51.89632-30.1056zM202.755072 732.09856c-40.71424 0-73.728 33.1776-73.728 74.1376 0 40.93952 33.01376 74.1376 73.728 74.1376 40.73472 0 73.728-33.19808 73.728-74.1376 0-40.96-32.99328-74.1376-73.728-74.1376zM534.531072 847.93344a87.4496 87.4496 0 0 0-75.81696 44.01152 88.4736 88.4736 0 0 0 0 88.04352A87.4496 87.4496 0 0 0 534.531072 1024a87.4496 87.4496 0 0 0 75.83744-44.032 88.4736 88.4736 0 0 0 0-88.02304 87.4496 87.4496 0 0 0-75.83744-44.032zM861.699072 690.3808c-55.99232 0-101.376 45.64992-101.376 101.94944 0 56.29952 45.38368 101.92896 101.376 101.92896s101.376-45.62944 101.376-101.92896c0-56.32-45.38368-101.94944-101.376-101.94944z","p-id":"4778",fill:"#ffffff"})]))])])],512),[[l,u.isloading]])])]),d(c(v,{active:"training"},null,512),[[l,u.navshows]])])}],["__scopeId","data-v-2ef8a4e4"]]);export{I as default};
