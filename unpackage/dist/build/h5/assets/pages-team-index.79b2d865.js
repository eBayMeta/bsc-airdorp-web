import{o as s,i as e,j as t,d as a,e as o,t as i,k as n,l,m as c,p as d,q as r,u as m,a as f,c as u,b as p,F as h,h as v,f as g}from"./index-7038e5c6.js";import{B as C,d as y,e as w,f as b}from"./index.43ef2395.js";import{_ as x}from"./_plugin-vue_export-helper.1b428a4d.js";function k(s){try{const e=document.createElement("textarea");e.value=s,e.style.position="fixed",e.style.left="-9999px",e.style.top="-9999px",e.style.opacity="0",e.style.pointerEvents="none",e.setAttribute("readonly",""),document.body.appendChild(e),e.select(),e.setSelectionRange(0,99999);const t=document.execCommand("copy");if(document.body.removeChild(e),t)return{success:!0,method:"execCommand"};throw new Error("execCommand copy failed")}catch(e){return console.error("Fallback copy method failed:",e),{success:!1,error:e.message,method:"failed"}}}const I=x({components:{BottomMenu:C,messageModel:x({name:"CustomConfirm",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Initiate withdrawal"},address:{type:String,default:"确定要执行此操作吗？"},confirmText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},confirmColor:{type:String,default:"#007aff"},confirmTextColor:{type:String,default:"#ffffff"},cancelColor:{type:String,default:"#666666"},maskClosable:{type:Boolean,default:!0},infos:{type:String}},methods:{handleConfirm(){this.$emit("confirm"),this.$emit("update:show",!1)},handleCancel(){this.$emit("cancel"),this.$emit("update:show",!1)},handleOverlayTap(){this.maskClosable&&this.handleCancel()}}},[["render",function(f,u,p,h,v,g){const C=d,y=r,w=m;return p.show?(s(),e(y,{key:0,class:"custom-confirm-overlay",onClick:g.handleOverlayTap},{default:t((()=>[a(y,{class:"custom-confirm-container",onClick:u[0]||(u[0]=l((()=>{}),["stop"]))},{default:t((()=>[a(y,{class:"confirm-header"},{default:t((()=>[a(C,{class:"confirm-title"},{default:t((()=>[o(i(f.$t("CurrentAddress")),1)])),_:1})])),_:1}),a(y,{class:"confirm-content"},{default:t((()=>[a(C,{class:"confirm-message"},{default:t((()=>[o(i(p.address),1)])),_:1})])),_:1}),a(y,{class:"confirm-header"},{default:t((()=>[a(C,{class:"confirm-title"},{default:t((()=>[o(i(f.$t("DirectReferrals")),1)])),_:1})])),_:1}),a(y,{class:"confirm-content"},{default:t((()=>[a(C,{class:"confirm-message"},{default:t((()=>[o(i(p.infos),1)])),_:1})])),_:1}),a(y,{class:"confirm-actions"},{default:t((()=>[a(w,{class:"confirm-btn confirm-btn-primary",onClick:g.handleConfirm,style:n({backgroundColor:p.confirmColor,color:p.confirmTextColor})},{default:t((()=>[o(i(f.$t("Confirms")),1)])),_:1},8,["onClick","style"])])),_:1})])),_:1})])),_:1},8,["onClick"])):c("",!0)}],["__scopeId","data-v-c754d532"]])},data:()=>({messageCommitshow:!1,ttsaddress:"",title:"Hello",data:{},infos:"",address:[]}),onLoad(){window.sessionStorage.getItem("account")&&(this.account=window.sessionStorage.getItem("account"),this.getcontribution())},methods:{messageCommit(){this.messageCommitshow=!1},async movetoC(s){console.log(s),this.ttsaddress=s.oldaddress;let e=await y(this.ttsaddress);console.log(e.data.data.totalCount),this.infos=e.data.data.totalCount,this.messageCommitshow=!0},copyd(){console.log(this.data.inviteLink),async function(s){try{navigator.clipboard&&window.isSecureContext?await navigator.clipboard.writeText(s):k(s)}catch(e){return console.warn("Clipboard API failed, trying fallback method:",e),k(s)}}(this.data.inviteLink),f({title:this.$t("messagesuceess"),icon:"success",duration:2e3})},numberToRoman:s=>({0:"0",1:"I",2:"II",3:"III",4:"IV",5:"V",6:"VI",7:"VII",8:"VIII",9:"IX",10:"X"}[s]||""),async getcontribution(){let s=await w(this.account);this.data=s.data.data;let e=await b(this.account);this.address=e.data.data.content.map((s=>(s.oldaddress=s.userAddress,s.userAddress=s.userAddress.substr(0,15)+"......"+s.userAddress.substr(s.userAddress.length-8,8),s)))}}},[["render",function(e,t,o,n,l,c){const d=g("BottomMenu"),r=g("messageModel");return s(),u("div",{class:"main-container"},[p("div",{class:"bg"},[p("div",{class:"ellipse"}),p("div",{class:"ellipse-1"})]),p("div",{class:"flex-column-fc"},[p("div",{class:"rectangle"},[p("span",{class:"invite-link"},i(e.$t("Invite Link")),1),p("div",{onClick:t[0]||(t[0]=(...s)=>c.copyd&&c.copyd(...s)),class:"rectangle-2"},[p("div",{class:"icon-link"}),p("span",{class:"xf-fa-db"},i(l.data.inviteLink),1),p("div",{class:"edit-copy"})]),p("div",{class:"line"}),p("div",{class:"flex-row-fe"},[p("span",{class:"direct-invite"},i(e.$t("Direct invite")),1),p("div",{class:"iconly-sharp-arrow-up"})]),p("div",{class:"flex-row-c"},[p("div",{class:"frame"},[p("div",{class:"frame-3"},[(s(!0),u(h,null,v(l.address,((t,a)=>(s(),u("div",{key:a,class:"group-4"},[p("div",{class:"icon-users-5"},[p("div",{class:"vuesax-bold-user-octagon-6"})]),p("span",{onClick:s=>c.movetoC(t),class:"text-6"},i(e.$t("Details"))+i(">"),9,["onClick"]),p("span",{class:"text-7"},i(t.userAddress),1)])))),128))])]),p("div",{class:"rectangle-1d"})])]),p("div",{class:"img-level"},[p("div",{class:"ellipse-22"}),p("div",{class:"ellipse-23"}),p("span",{class:"lv-i"},"Lv "+i(c.numberToRoman(l.data.contributionLevel)),1),p("span",{class:"slash"},i(l.data.contributionValue||0)+"/100",1),p("span",{class:"boost-score"},i(e.$t("Boost Score")),1)]),p("div",{class:"img-team-right"})]),a(d,{active:"team"}),a(r,{infos:l.infos,onConfirm:c.messageCommit,address:l.ttsaddress,show:l.messageCommitshow},null,8,["infos","onConfirm","address","show"])])}],["__scopeId","data-v-ccbf93df"]]);export{I as default};
